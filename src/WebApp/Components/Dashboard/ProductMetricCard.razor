@using ApexCharts
<div class="@($"w-full flex items-center justify-between gap-4 shadow-sm {CardClass}")">
  <Card Size="CardSize.ExtraLarge" class="w-full">
    <div class="w-full">
      <h5 class="text-sm font-medium text-gray-500 dark:text-gray-300">@Title</h5>
      <p class="text-2xl font-bold leading-none text-gray-900 sm:text-3xl dark:text-white">@Subtitle</p>

      @if (ShowChangeIndicator)
      {
        <div class="@($"mt-2 inline-flex items-baseline gap-1.5 text-sm {ChangeCss}")">
          <span class="font-semibold">@FormattedChange</span>
          @if (!string.IsNullOrWhiteSpace(ChangeCaption))
          {
            <span class="text-xs text-gray-500 dark:text-gray-400">@ChangeCaption</span>
          }
        </div>
      }
    </div>

    <div class="w-full min-h-[115px]">
      <ApexChart @ref="_chart"
                TItem="NumericPoint"
                Options="_options"
                Height="@(ChartHeight)">
        @if (Series?.Count > 0)
        {
          foreach (var series in Series)
          {
            <ApexPointSeries TItem="NumericPoint"
                            Items="series.Points"
                            Name="@series.Name"
                            SeriesType="SeriesType.Bar"
                            Color="@series.Color"
                            XValue="p => p.Category"
                            YValue="p => p.Value" />
          }
        }
      </ApexChart>
    </div>
  </Card>
</div>
