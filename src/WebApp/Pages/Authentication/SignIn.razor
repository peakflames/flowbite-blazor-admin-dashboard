@page "/authentication/sign-in"
@layout MarketingLayout
@using System.ComponentModel.DataAnnotations
@using Flowbite.Components

<AppPageTitle Title="Sign in" />

<main class="bg-gray-50 dark:bg-gray-900 w-full">
    <div class="mx-auto flex flex-col items-center justify-center px-6 pt-8 dark:bg-gray-900 md:h-screen md:pt-0">
        <a href="/" class="mb-8 flex items-center justify-center text-2xl font-semibold text-gray-900 dark:text-white lg:mb-10">
            <img src="/images/flowbite.svg" class="mr-4 h-11" alt="Flowbite Logo" />
            <span>Flowbite</span>
        </a>

        <div class="flex w-full max-w-lg flex-col rounded-lg border border-gray-200 bg-white p-4 shadow-md dark:border-gray-700 dark:bg-gray-800 sm:p-6">
            <h1 class="mb-3 text-2xl font-bold text-gray-900 dark:text-white">
                Sign in to platform
            </h1>

            <EditForm Model="@Form" OnValidSubmit="@HandleSubmit" class="mt-8 space-y-6">
                <DataAnnotationsValidator />

                <label class="block space-y-2 text-sm font-medium text-gray-900 dark:text-white" for="email">
                    <span>Your email</span>
                    <TextInput Id="email"
                              @bind-Value="Form.Email"
                              Type="email"
                              Placeholder="name@company.com"
                              Required="true"
                              Class="border outline-none dark:border-gray-600 dark:bg-gray-700" />
                    <ValidationMessage For="@(() => Form.Email)" class="text-sm text-red-600" />
                </label>

                <label class="block space-y-2 text-sm font-medium text-gray-900 dark:text-white" for="password">
                    <span>Your password</span>
                    <TextInput Id="password"
                              @bind-Value="Form.Password"
                              Type="password"
                              Placeholder="••••••••"
                              Required="true"
                              Class="border outline-none dark:border-gray-600 dark:bg-gray-700" />
                    <ValidationMessage For="@(() => Form.Password)" class="text-sm text-red-600" />
                </label>

                <div class="flex items-start">
                    <label class="inline-flex items-center text-sm font-medium text-gray-700 dark:text-gray-200">
                        <InputCheckbox @bind-Value="Form.RememberMe"
                                       Id="remember"
                                       class="mr-2 h-4 w-4 rounded border-gray-300 bg-gray-100 text-primary-600 focus:ring-2 focus:ring-primary-600 focus:ring-offset-2 dark:border-gray-600 dark:bg-gray-700 dark:ring-offset-gray-800" />
                        Remember me
                    </label>
                    <a href="/authentication/forgot-password" class="ml-auto inline-flex items-center text-sm text-primary-600 hover:underline dark:text-primary-500">
                        Lost Password?
                    </a>
                </div>

                <Button Type="ButtonType.Submit" Size="ButtonSize.Large">
                    Login to your account
                </Button>

                <div class="text-sm font-medium text-gray-500 dark:text-gray-300">
                    Not registered?
                    <a href="/authentication/sign-up" class="text-primary-700 hover:underline dark:text-primary-500">
                        Create account
                    </a>
                </div>
            </EditForm>
        </div>
    </div>
</main>

@code {
    private SignInForm Form { get; set; } = new();

    private Task HandleSubmit() => Task.CompletedTask;

    private sealed class SignInForm
    {
        [Required]
        [EmailAddress]
        public string Email { get; set; } = string.Empty;

        [Required]
        public string Password { get; set; } = string.Empty;

        public bool RememberMe { get; set; } = true;
    }
}
